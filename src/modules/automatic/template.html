<!-- Automatic Mode Template - Mobile Optimized -->
<div class="automatic-container">

    <!-- Recording Section - Touch Optimized -->
    <section class="automatic-record-section" role="region" aria-label="Grabaci√≥n de audio">
        <button id="record-button" 
                class="automatic-record-btn" 
                type="button"
                aria-label="Grabar mensaje"
                aria-pressed="false">
            <span id="record-icon" class="record-icon" aria-hidden="true">üé§</span>
            <span id="record-text" class="record-text">Grabar</span>
        </button>
        <div id="recording-timer" class="recording-timer" role="timer" aria-live="polite"></div>
        
        <!-- Audio Visualizer Canvas -->
        <canvas id="audio-visualizer" class="audio-visualizer" width="400" height="80" aria-hidden="true"></canvas>
    </section>

    <!-- Status Message - Fixed Position for Mobile -->
    <div id="status-message" class="status-message" role="status" aria-live="polite" style="display: none;"></div>

    <!-- Voice Selection Section - Horizontal Scroll on Mobile -->
    <section id="voices-section" 
             class="automatic-voices-section" 
             style="display: none;"
             role="region"
             aria-label="Selecci√≥n de personaje">
        <div class="voices-scroll-hint" aria-hidden="true">‚Üê Desliza para elegir a tu personaje ‚Üí</div>
        <div id="voices-list" 
             class="automatic-voices-grid"
             role="list"
             aria-label="Lista de voces disponibles">
            <!-- Voice cards will be rendered here -->
        </div>
        
        <!-- Advanced Options Toggle -->
        <div class="advanced-options-container">
            <button id="advanced-toggle" 
                    class="advanced-toggle-btn"
                    type="button"
                    aria-expanded="false"
                    aria-controls="advanced-options">
                <span class="toggle-icon">‚öôÔ∏è</span>
                <span>Opciones Avanzadas</span>
                <span class="toggle-arrow">‚ñº</span>
            </button>
            
            <div id="advanced-options" 
                 class="advanced-options"
                 style="display: none;">
                
                <!-- Music Selection -->
                <div class="option-group">
                    <label for="music-select" class="option-label">
                        üéµ Selecciona la m√∫sica:
                    </label>
                    <select id="music-select" class="option-select">
                        <option value="">Por defecto (Uplift)</option>
                    </select>
                </div>
                
                <!-- Duration Selection -->
                <div class="option-group">
                    <label for="duration-select" class="option-label">
                        ‚è±Ô∏è Duraci√≥n del anuncio:
                    </label>
                    <select id="duration-select" class="option-select">
                        <option value="5">5 segundos</option>
                        <option value="10">10 segundos</option>
                        <option value="15">15 segundos</option>
                        <option value="20" selected>20 segundos</option>
                        <option value="25">25 segundos</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Audio Player Section - Mobile Optimized Controls -->
    <section id="player-section" 
             class="automatic-player-section" 
             style="display: none;"
             role="region"
             aria-label="Reproductor de jingle">
        <div class="player-card">
            
            <!-- Custom Audio Visualizer -->
            <div class="audio-player-wrapper">
                <!-- Hidden audio element -->
                <audio id="generated-audio" 
                       class="automatic-audio-player-hidden" 
                       preload="metadata"
                       aria-label="Jingle generado">
                    Tu navegador no soporta el elemento de audio.
                </audio>
                
                <!-- Visual Audio Player -->
                <div class="custom-audio-player">
                    <!-- Visualizer Canvas - Clickeable para play/pause -->
                    <canvas id="player-visualizer" class="player-visualizer" width="300" height="120" style="cursor: pointer;"></canvas>
                    
                    <!-- Play/Pause Button Hidden - Mantenemos funcionalidad pero oculto -->
                    <button id="play-pause-btn" class="play-pause-btn" aria-label="Reproducir" style="display: none;">
                        <span class="play-icon">‚ñ∂</span>
                        <span class="pause-icon" style="display: none;">‚è∏</span>
                    </button>
                    
                    <!-- Time Progress -->
                    <div class="audio-progress">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time">0:00</span> / <span id="duration">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Button - Touch Target Optimized -->
            <div class="player-actions" role="group" aria-label="Acciones del jingle">
                <button id="send-to-radio-btn" 
                        class="btn btn-primary automatic-action-btn full-width"
                        type="button"
                        aria-label="Enviar jingle a la radio">
                    <span>Enviar a Radio</span>
                </button>
            </div>
        </div>
    </section>


    <!-- Hidden scroll hint style -->
    <style>
        .voices-scroll-hint {
            text-align: center;
            color: var(--text-primary);
            font-size: var(--text-lg);
            font-weight: 600;
            padding: var(--spacing-md) var(--spacing-lg);
            margin-bottom: var(--spacing-md);
            opacity: 0.9;
            animation: fadeIn 1s ease;
        }
        
        .automatic-action-btn.full-width {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        @media (min-width: 768px) {
            .voices-scroll-hint {
                display: none;
            }
        }
    </style>
</div>