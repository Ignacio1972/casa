/**
 * LAYOUT SWAP CSS - Experimento para invertir columnas
 * ====================================================
 * Este archivo invierte las columnas del dashboard sin modificar el HTML
 * Columna izquierda (AI + Generador + Controles) → Derecha
 * Columna derecha (Mensajes Recientes) → Izquierda
 */

/* ========================================
   MÉTODO 1: REPOSICIONAR CON GRID-COLUMN (MÁS ESPECÍFICO)
   ======================================== */

/* Forzar el grid de 2 columnas con proporciones invertidas */
.container .dashboard-grid,
#main-container .dashboard-grid,
div.dashboard-grid {
    display: grid !important;
    grid-template-columns: 1fr 1.5fr !important; /* Invertir: mensajes 40% (izq), generador 60% (der) */
    grid-template-rows: auto auto auto !important; /* 3 filas */
    gap: var(--space-lg) !important;
}

/* COLUMNA IZQUIERDA: Mensajes Recientes */
.container .dashboard-grid .recent-messages,
#main-container .dashboard-grid .recent-messages,
.dashboard-grid .card.recent-messages {
    grid-column: 1 !important;
    grid-row: 1 / 4 !important; /* Span todas las filas */
    order: 1 !important;
}

/* COLUMNA DERECHA - FILA 1: AI Module */
.container .dashboard-grid #ai-suggestions-placeholder,
.container .dashboard-grid #ai-suggestions-container,
#main-container .dashboard-grid #ai-suggestions-placeholder,
#main-container .dashboard-grid #ai-suggestions-container {
    grid-column: 2 !important;
    grid-row: 1 !important;
    order: 2 !important;
}

/* COLUMNA DERECHA - FILA 2: Generador de Mensajes */
.container .dashboard-grid .create-message,
#main-container .dashboard-grid .create-message,
.dashboard-grid .card.create-message {
    grid-column: 2 !important;
    grid-row: 2 !important;
    order: 3 !important;
}

/* COLUMNA DERECHA - FILA 3: Controles de Voz */
.container .dashboard-grid .controls-section,
#main-container .dashboard-grid .controls-section,
.dashboard-grid .card.controls-section {
    grid-column: 2 !important;
    grid-row: 3 !important;
    order: 4 !important;
}

/* Eliminar cualquier quota-section que pueda aparecer */
.quota-section {
    display: none !important;
}

/* ========================================
   INDICADOR VISUAL DE MODO EXPERIMENTAL
   ======================================== */

body::before {
    content: "🔄 LAYOUT INVERTIDO - Modo Experimental";
    position: fixed;
    top: 70px;
    right: 20px;
    background: linear-gradient(135deg, #00ff88, #00cc6a);
    color: black;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    z-index: 9999;
    box-shadow: 0 2px 10px rgba(0, 255, 136, 0.3);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

/* ========================================
   AJUSTES FINOS PARA MEJOR VISUALIZACIÓN
   ======================================== */

/* Asegurar que los mensajes recientes usen todo el alto disponible */
.recent-messages {
    height: 100%;
    max-height: calc(100vh - 200px);
}

.recent-messages .message-list {
    max-height: calc(100vh - 300px);
}

/* Ajustar padding para mejor espaciado visual */
.dashboard-grid {
    padding: 0 20px;
}

/* ========================================
   RESPONSIVE: Mantener layout normal en móviles
   ======================================== */

@media (max-width: 768px) {
    /* En móviles, volver al layout original de 1 columna */
    .dashboard-grid,
    div.dashboard-grid {
        grid-template-columns: 1fr !important;
        grid-template-rows: auto !important;
    }
    
    .recent-messages,
    .create-message,
    .controls-section,
    #ai-suggestions-placeholder,
    #ai-suggestions-container {
        grid-column: 1 !important;
        grid-row: auto !important;
    }
    
    /* Orden en móviles: AI → Generador → Controles → Mensajes */
    #ai-suggestions-placeholder,
    #ai-suggestions-container { order: 1; }
    .create-message { order: 2; }
    .controls-section { order: 3; }
    .recent-messages { order: 4; }
}

/* ========================================
   TRANSICIONES SUAVES
   ======================================== */

.dashboard-grid > * {
    transition: all 0.3s ease-in-out;
}

/* ========================================
   DEBUG: Bordes para visualizar el grid (comentado)
   ======================================== */

/*
.dashboard-grid {
    border: 2px solid red;
}

.recent-messages {
    border: 2px solid blue;
}

.create-message {
    border: 2px solid green;
}

.controls-section {
    border: 2px solid yellow;
}

#ai-suggestions-placeholder,
#ai-suggestions-container {
    border: 2px solid purple;
}
*/